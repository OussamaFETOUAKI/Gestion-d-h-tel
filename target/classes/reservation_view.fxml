<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.hotelfx.controller.ReservationController"
            style="-fx-background-color: #f3f4f6;">

   <!-- ===== TOP BAR ===== -->
   <top>
      <HBox spacing="12"
            alignment="CENTER_LEFT"
            style="
                -fx-padding: 14;
                -fx-background-color: white;
                -fx-border-color: #e5e7eb;
                -fx-border-width: 0 0 1 0;"
            BorderPane.alignment="CENTER">

         <Button text="←"
                 onAction="#backToMain"
                 style="
                      -fx-background-color: transparent;
                      -fx-font-size: 16;
                      -fx-cursor: hand;"/>

         <Label text="Gestion des réservations"
                style="
                     -fx-font-size: 18;
                     -fx-font-weight: bold;"/>
      </HBox>
   </top>

   <!-- ===== TABLE CARD ===== -->
   <center>
      <VBox style="-fx-padding: 16;">
         <VBox style="
                    -fx-background-color: white;
                    -fx-background-radius: 12;
                    -fx-padding: 10;
                    -fx-border-color: #e5e7eb;
                    -fx-border-radius: 12;">

            <TableView fx:id="reservationTable"
                       VBox.vgrow="ALWAYS"
                       style="-fx-background-color: transparent;">

               <columns>
                  <TableColumn fx:id="colId" text="ID" prefWidth="60"/>
                  <TableColumn fx:id="colChambre" text="Chambre" prefWidth="140"/>
                  <TableColumn fx:id="colClient" text="Client" prefWidth="200"/>
                  <TableColumn fx:id="colDebut" text="Début" prefWidth="120"/>
                  <TableColumn fx:id="colFin" text="Fin" prefWidth="120"/>
                  <TableColumn fx:id="colStatut" text="Statut" prefWidth="120"/>
               </columns>
            </TableView>

         </VBox>
      </VBox>
   </center>

   <!-- ===== FORM CARD ===== -->
   <bottom>
      <VBox style="-fx-padding: 16;">
         <VBox spacing="14"
               style="
                    -fx-background-color: white;
                    -fx-background-radius: 12;
                    -fx-padding: 16;
                    -fx-border-color: #e5e7eb;
                    -fx-border-radius: 12;"
               BorderPane.alignment="CENTER">

            <HBox spacing="12">
               <ComboBox fx:id="cbChambre"
                         promptText="Chambre"
                         style="-fx-pref-width: 220;"/>

               <ComboBox fx:id="cbClient"
                         promptText="Client"
                         style="-fx-pref-width: 220;"/>
            </HBox>

            <HBox spacing="12">
               <DatePicker fx:id="dpDebut" promptText="Date de début"/>
               <DatePicker fx:id="dpFin" promptText="Date de fin"/>
            </HBox>

            <HBox spacing="10" alignment="CENTER_RIGHT">
               <Button text="Nouveau"
                       onAction="#clearForm"
                       style="
                              -fx-background-color: #e5e7eb;
                              -fx-cursor: hand;"/>

               <Button text="Annuler séjour"
                       onAction="#cancelReservation"
                       style="
                              -fx-background-color: #ef4444;
                              -fx-text-fill: white;
                              -fx-cursor: hand;"/>

               <Button fx:id="btnSave"
                       text="Réserver"
                       onAction="#saveReservation"
                       style="
                              -fx-background-color: #2563eb;
                              -fx-text-fill: white;
                              -fx-font-weight: bold;
                              -fx-cursor: hand;"/>
            </HBox>

         </VBox>
      </VBox>
   </bottom>

</BorderPane>
