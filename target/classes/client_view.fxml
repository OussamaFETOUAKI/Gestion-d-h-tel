<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.hotelfx.controller.ClientController"
            style="-fx-background-color: #f3f4f6;">

   <!-- ===== TOP BAR ===== -->
   <top>
      <HBox spacing="12"
            alignment="CENTER_LEFT"
            style="
                -fx-padding: 14;
                -fx-background-color: white;
                -fx-border-color: #e5e7eb;
                -fx-border-width: 0 0 1 0;">

         <Button text="←"
                 onAction="#backToMain"
                 style="-fx-background-color: transparent; -fx-font-size: 16;"/>

         <Label text="Gestion des clients"
                style="-fx-font-size: 18; -fx-font-weight: bold;"/>

         <Region HBox.hgrow="ALWAYS"/>


         <TextField fx:id="txtSearch"
                    promptText="Rechercher..."
                    style="-fx-pref-width: 200;"/>

         <Button text="Rechercher"
                 onAction="#search"
                 style="-fx-background-color: #2563eb; -fx-text-fill: white;"/>
      </HBox>
   </top>

   <!-- ===== TABLE CARD ===== -->
   <center>
      <VBox style="-fx-padding: 16;">
         <VBox style="
                    -fx-background-color: white;
                    -fx-background-radius: 12;
                    -fx-padding: 10;
                    -fx-border-color: #e5e7eb;
                    -fx-border-radius: 12;">

            <TableView fx:id="clientTable"
                       VBox.vgrow="ALWAYS"
                       style="
                             -fx-background-color: transparent;
                             -fx-selection-bar: #2563eb;
                             -fx-selection-bar-non-focused: #93c5fd;">

               <columns>
                  <TableColumn fx:id="colId" text="ID" prefWidth="60"/>
                  <TableColumn fx:id="colNom" text="Nom" prefWidth="200"/>
                  <TableColumn fx:id="colEmail" text="Email" prefWidth="260"/>
                  <TableColumn fx:id="colTelephone" text="Téléphone" prefWidth="160"/>
                  <TableColumn text="Statut" prefWidth="120"/>
               </columns>
            </TableView>

         </VBox>
      </VBox>
   </center>

   <!-- ===== FORM CARD ===== -->
   <bottom>
      <VBox style="-fx-padding: 16;">
         <VBox spacing="14"
               style="
                    -fx-background-color: white;
                    -fx-background-radius: 12;
                    -fx-padding: 16;
                    -fx-border-color: #e5e7eb;
                    -fx-border-radius: 12;">

            <HBox spacing="12">
               <TextField fx:id="txtNom"
                          promptText="Nom"
                          style="-fx-pref-width: 180;"/>

               <!-- Email validation -->
               <TextField fx:id="txtEmail"
                          promptText="Email"
                          style="
                                 -fx-pref-width: 260;
                                 -fx-border-color: #22c55e;
                                 -fx-border-radius: 6;"/>

               <!-- Phone validation -->
               <TextField fx:id="txtTelephone"
                          promptText="Téléphone"
                          style="
                                 -fx-pref-width: 160;
                                 -fx-border-color: #22c55e;
                                 -fx-border-radius: 6;"/>
            </HBox>


            <HBox spacing="10" alignment="CENTER_RIGHT">
               <Button text="Nouveau"
                       onAction="#clearForm"
                       style="-fx-background-color: #e5e7eb;"/>

               <Button text="Supprimer"
                       onAction="#deleteClient"
                       style="-fx-background-color: #ef4444; -fx-text-fill: white;"/>

               <Button fx:id="btnSave"
                       text="Ajouter"
                       onAction="#saveClient"
                       style="
                              -fx-background-color: #2563eb;
                              -fx-text-fill: white;
                              -fx-font-weight: bold;"/>
            </HBox>

         </VBox>
      </VBox>
   </bottom>

</BorderPane>
